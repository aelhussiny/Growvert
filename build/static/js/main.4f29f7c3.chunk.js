(this["webpackJsonphydroponics-app"]=this["webpackJsonphydroponics-app"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,l,d,u,p,b,j,f,h,x,g,O,m,w,y,v,k,D,C,F,S,_,I,E,P,B,L,M,T,A,R,G,W,V,N,q,z,U,Y,Q,J,H,K,X,Z,$,ee,te,ne,re,ce,ae,ie,oe,se,le,de,ue,pe,be,je,fe,he,xe,ge,Oe=n(0),me=n.n(Oe),we=n(17),ye=n.n(we),ve=(n(100),n(101),n(83)),ke=n(7),De=n(9),Ce=n(75),Fe=(n(102),n(117),Ce.a.initializeApp({apiKey:"AIzaSyDQfWa6LBuc6BQ0JRxUTLiafXvq3L1C4EQ",authDomain:"hydroponics-app-f7956.firebaseapp.com",projectId:"hydroponics-app-f7956",storageBucket:"hydroponics-app-f7956.appspot.com",messagingSenderId:"172785109690",appId:"1:172785109690:web:a9fd5b3f804f0b56f25083",measurementId:"G-DD8QTQ8WBT"})),Se=Fe,_e=n(2),Ie=me.a.createContext(),Ee=function(e){var t=e.children,n=Object(Oe.useState)(null),r=Object(De.a)(n,2),c=r[0],a=r[1];return Object(Oe.useEffect)((function(){Se&&Se.auth().onAuthStateChanged(a)}),[]),Object(_e.jsx)(Ie.Provider,{value:{currentUser:c},children:t})},Pe=n(155),Be=n(84),Le=Object(Be.a)({palette:{primary:{main:"#3F3F3F",dark:"#2D2D2D",contrastText:"#6FC6DF"},secondar:{main:"#6FC6DF"},uiRed:"#F50057",esriGreen:"#9FC73B",esriBlue:"#6FC6DF"}}),Me=n(20),Te=n(19),Ae=n(14),Re=n.n(Ae),Ge=n(148),We=n(149),Ve=n(151),Ne=n(150),qe=n(159),ze=n(79),Ue=n.n(ze),Ye=n.p+"static/media/logo.555ac8cc.svg",Qe=n(5),Je=n(4),He=n(156),Ke=Je.a.div(r||(r=Object(Qe.a)(["\n    width: 100%;\n    position: sticky;\n    top: 0;\n    z-index: 15;\n"]))),Xe=Je.a.div(c||(c=Object(Qe.a)(["\n    display: flex;\n    height: Calc(100% - 3px);\n    align-items: center;\n    cursor: pointer;\n    &&:hover {\n        border-bottom: solid #5bc2f3 3px;\n    }\n    border-bottom: ","\n"])),(function(e){return e.active?"solid #5bc2f3 3px":"none"})),Ze=Object(Je.a)(He.a)(a||(a=Object(Qe.a)(["\n    & .MuiPaper-root {\n        background: #3F3F3F;\n        color: #6FC6DF;\n    }\n"]))),$e=Object(ke.g)((function(e){var t=Object(Oe.useContext)(Ie).currentUser,n=Object(Oe.useState)(null),r=Object(De.a)(n,2),c=r[0],a=r[1];Object(Oe.useEffect)((function(){var e=function(){var e=Object(Te.a)(Re.a.mark((function e(){var n,r;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se.firestore(),e.next=3,n.collection("users").doc(t.uid).get();case 3:(r=e.sent).exists&&(r=r.data(),a(r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t&&e()}),[t]);var i=me.a.useState(null),o=Object(De.a)(i,2),s=o[0],l=o[1],d=Boolean(s),u=function(){l(null)};return Object(_e.jsxs)(Ke,{children:[Object(_e.jsx)(Ge.a,{position:"static",style:{background:"#3F3F3F"},children:Object(_e.jsxs)(We.a,{children:[Object(_e.jsxs)(Ne.a,{href:"/",onClick:function(t){t.preventDefault(),e.history.push("/")},color:"inherit",variant:"h6",underline:"none",style:{display:"flex",alignItems:"center"},children:[Object(_e.jsx)("img",{src:Ye,alt:"Logo",width:"45",style:{marginRight:"10px"}}),Object(_e.jsxs)("p",{children:[Object(_e.jsx)("span",{style:{color:"#6FC6DF"},children:"Grow"}),Object(_e.jsx)("span",{style:{color:"#9FC73B"},children:"Vert"})]})]}),Object(_e.jsxs)("div",{style:{display:"flex",flexGrow:1,justifyContent:"space-evenly",height:"64px"},children:[Object(_e.jsx)(Xe,{active:"/all"===e.history.location.pathname,onClick:function(t){t.preventDefault(),e.history.push("/all")},children:Object(_e.jsx)(Ne.a,{href:"all",onClick:function(t){t.preventDefault(),e.history.push("/all")},color:"inherit",variant:"h6",underline:"none",style:{display:"flex",alignItems:"center"},children:"Active Grows"})}),function(){if(t)return Object(_e.jsx)(Xe,{active:"/new"===e.history.location.pathname,onClick:function(t){t.preventDefault(),e.history.push("/new")},style:{borderBottomColor:"#9FC73B"},children:Object(_e.jsx)(Ne.a,{href:"new",onClick:function(t){t.preventDefault(),e.history.push("/new")},color:"inherit",variant:"h6",underline:"none",style:{display:"flex",alignItems:"center",color:"#9FC73B"},children:"New Grow"})})}()]}),Object(_e.jsx)("div",{children:Object(_e.jsx)(Ve.a,{edge:"end","aria-label":"account of current user","aria-controls":"profilemenu","aria-haspopup":"true",onClick:function(n){t?l(n.currentTarget):e.history.push("/login")},color:"inherit",children:Object(_e.jsx)(Ue.a,{})})})]})}),Object(_e.jsxs)(Ze,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:"profilemenu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:u,children:[Object(_e.jsxs)(qe.a,{onClick:function(){e.history.push("/profile/".concat(t.uid))},children:[c?"".concat(c.fname,"'s"):"Your"," Profile"]}),Object(_e.jsx)(qe.a,{onClick:function(){Se.auth().signOut(),u()},style:{color:"#F50057"},children:"Sign Out"})]})]})})),et=$e,tt=Je.a.div(i||(i=Object(Qe.a)(["\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    background: #2D2D2D;\n"]))),nt=Je.a.div(o||(o=Object(Qe.a)(["\n    flex-direction: column;\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    align-items: center;\n    align-content: center;\n    justify-items: center;\n    justify-content: center;\n"]))),rt=Je.a.form(s||(s=Object(Qe.a)(["\n    display: flex;\n    flex-direction: column;\n    background: #474747;\n    padding: 25px;\n    width: 40%;\n    margin-bottom: 10%;\n    @media (max-width: 768px) {\n        width: calc(100% - 70px);\n        padding: 20px;\n        margin-bottom: 40%;\n    }\n"]))),ct=Je.a.label(l||(l=Object(Qe.a)(["\n    font-weight: bold;\n    color: #9FC73B;\n"]))),at=Je.a.button(d||(d=Object(Qe.a)(["\n    padding: 10px;\n    background: #6FC6DF;\n    color: white;\n    text-transform: uppercase;\n    font-weight: bold;\n    cursor: pointer;\n    border: none;\n"]))),it=Object(ke.g)((function(e){var t=e.history,n=Object(Oe.useCallback)(function(){var e=Object(Te.a)(Re.a.mark((function e(n){var r,c,a;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=n.target.elements,c=r.email,a=r.password,e.prev=2,e.next=5,Se.auth().signInWithEmailAndPassword(c.value,a.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(Oe.useContext)(Ie).currentUser?Object(_e.jsx)(ke.a,{to:"/"}):Object(_e.jsxs)(tt,{children:[Object(_e.jsx)(et,{history:t}),Object(_e.jsxs)(nt,{children:[Object(_e.jsx)("img",{src:Ye,alt:"Logo",width:"150",style:{marginBottom:"20px",marginTop:"20px"}}),Object(_e.jsxs)(rt,{onSubmit:n,children:[Object(_e.jsx)(ct,{children:"eMail Address: "}),Object(_e.jsx)("input",{style:{padding:"10px"},name:"email",type:"email",required:!0,placeholder:"eMail"}),Object(_e.jsx)("br",{}),Object(_e.jsx)(ct,{children:"Password:"}),Object(_e.jsx)("input",{style:{padding:"10px"},name:"password",type:"password",required:!0,placeholder:"Password"}),Object(_e.jsx)("br",{}),Object(_e.jsx)(at,{type:"submit",children:"Login"}),Object(_e.jsx)(Ne.a,{href:"/forgotpass",onClick:function(e){e.preventDefault(),t.push("/forgotpass")},style:{textAlign:"center",marginTop:"10px"},children:Object(_e.jsx)("span",{style:{color:"#6FC6DF"},children:"Did you forget your password?"})})]}),Object(_e.jsxs)("p",{style:{color:"white"},children:["No account yet?"," ",Object(_e.jsx)(Ne.a,{href:"/register",onClick:function(e){e.preventDefault(),t.push("/register")},children:Object(_e.jsx)("span",{style:{color:"#6FC6DF"},children:"Create one now"})})]})]})]})})),ot=it,st=Je.a.div(u||(u=Object(Qe.a)(["\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    max-height: 100%;\n    flex-direction: column;\n    align-items: center;\n    align-content: center;\n    justify-items: center;\n    justify-content: center;\n    background: white;\n"]))),lt=Object(ke.g)((function(e){return Object(Oe.useEffect)((function(){document.getElementById("grow-scene-all").style.height=document.getElementById("grow-scene-all").clientWidth+"px",Object(Me.loadModules)(["esri/views/SceneView","esri/WebScene","esri/geometry/Polygon","esri/Graphic","esri/tasks/QueryTask"]).then((function(t){var n=Object(De.a)(t,5),r=n[0],c=n[1],a=(n[2],n[3]),i=n[4],o=new r({map:new c({portalItem:{id:window.config.baseSceneId}}),container:"grow-scene-all"});o.when((function(){new i({url:window.config.growsLayer.url}).execute({where:"end_time > DATE '".concat((new Date).getFullYear(),"-").concat((""+((new Date).getMonth()+1)).padStart(2,"0"),"-").concat(""+((new Date).getDate()+1),"'"),outFields:"*",returnGeometry:!0}).then((function(e){var t=[];e.features.forEach((function(n){n.geometry=n.geometry.centroid,n.geometry.z=n.attributes.height,t.push(new a({geometry:n.geometry,symbol:{type:"picture-marker",url:"/img/".concat(e.fields.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(e){return e.code===n.attributes.plant_type}))[0].name.toLowerCase().replace(/ /g,""),".svg"),width:"16px",height:"16px"},attributes:{id:n.attributes.OBJECTID,USABLE:!0}}))})),o.graphics.addMany(t),o.goTo(t)})),o.on("click",(function(t){o.hitTest(t).then((function(t){var n=t.results.filter((function(e){return e.graphic.attributes.USABLE}));n.length>0&&e.history.push("/grow/".concat(n[0].graphic.attributes.id))}))}))}))})).catch((function(e){console.error(e)}))}),[]),Object(_e.jsxs)(st,{children:[Object(_e.jsx)(et,{history:e.history}),Object(_e.jsx)("div",{id:"grow-scene-all",style:{flexGrow:1,width:"100%"}})]})})),dt=Je.a.div(p||(p=Object(Qe.a)(["\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    background: #2d2d2d;\n"]))),ut=Je.a.div(b||(b=Object(Qe.a)(["\n    width: calc(100% - 40px);\n    display: flex;\n    flex-grow: 1;\n    flex-direction: row;\n    padding: 0px 20px;\n"]))),pt=Je.a.div(j||(j=Object(Qe.a)(["\n    width: 33%;\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    padding-right: 20px;\n"]))),bt=Je.a.div(f||(f=Object(Qe.a)(["\n    height: 100%;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n"]))),jt=Je.a.div(h||(h=Object(Qe.a)(["\n    background: #3f3f3f;\n    border-radius: 10px;\n    border: 1px solid white;\n    padding: 25px;\n    display: flex;\n    flex-direction: row;\n    width: calc(100% - 50px);\n    margin-bottom: 20px;\n    cursor: pointer;\n"]))),ft=Je.a.div(x||(x=Object(Qe.a)(["\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    margin-left: 15px;\n"]))),ht=Je.a.p(g||(g=Object(Qe.a)(["\n    color: white;\n    font-size: 14px;\n    font-weight: bold;\n    margin: 0;\n"]))),xt=Je.a.div(O||(O=Object(Qe.a)(["\n    color: #B5B5B5;\n    font-size: 12px;\n    margin: 0;\n"]))),gt=Object(ke.g)((function(e){return e.fields&&e.fields.length>0?Object(_e.jsx)(Ne.a,{href:"/grow/".concat(e.data.OBJECTID),onClick:function(t){t.preventDefault(),e.history.push("/grow/".concat(e.data.OBJECTID))},children:Object(_e.jsxs)(jt,{children:[Object(_e.jsx)("img",{src:"https://hydroponics-app-f7956.web.app/img/".concat(e.fields.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(t){return t.code===e.data.plant_type}))[0].name.toLowerCase().replace(/ /g,""),".svg"),alt:e.fields.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(t){return t.code===e.data.plant_type}))[0].name,width:"50"}),Object(_e.jsxs)(ft,{children:[Object(_e.jsx)(ht,{children:e.fields.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(t){return t.code===e.data.plant_type}))[0].name}),Object(_e.jsxs)(xt,{children:["Area:"," ",e.data.Shape__Area.toLocaleString(void 0,{maximumFractionDigits:2})," ","sqm"]}),Object(_e.jsxs)(xt,{children:["Plantation Type:"," ",e.fields.filter((function(e){return"plantation_type"===e.name}))[0].domain.codedValues.filter((function(t){return t.code===e.data.plantation_type}))[0].name]}),Object(_e.jsxs)(xt,{children:["Growth Period:"," ",new Date(e.data.start_time).toLocaleDateString()," -"," ",new Date(e.data.end_time).toLocaleDateString()]}),Object(_e.jsxs)(xt,{children:["Expected Yield: ",e.data.expected_yield]})]})]})}):null})),Ot=Object(ke.g)((function(e){var t=e.creatorId;return Object(Oe.useEffect)((function(){document.getElementById("grow-scene-".concat(t)).style.height=document.getElementById("grow-scene-".concat(t)).clientWidth+"px",Object(Me.loadModules)(["esri/views/SceneView","esri/WebScene","esri/geometry/Polygon","esri/Graphic","esri/tasks/QueryTask"]).then((function(e){var n=Object(De.a)(e,5),r=n[0],c=n[1],a=(n[2],n[3]),i=n[4],o=new r({map:new c({portalItem:{id:window.config.baseSceneId}}),container:"grow-scene-".concat(t)});o.when((function(){new i({url:window.config.growsLayer.url}).execute({where:"creator_id = '".concat(t,"' and end_time > DATE '").concat((new Date).getFullYear(),"-").concat((""+((new Date).getMonth()+1)).padStart(2,"0"),"-").concat(""+((new Date).getDate()+1),"'"),outFields:"*",returnGeometry:!0}).then((function(e){var t=[];e.features.forEach((function(n){n.geometry=n.geometry.centroid,n.geometry.z=n.attributes.height,t.push(new a({geometry:n.geometry,symbol:{type:"picture-marker",url:"https://hydroponics-app-f7956.web.app/img/".concat(e.fields.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(e){return e.code===n.attributes.plant_type}))[0].name.toLowerCase().replace(/ /g,""),".svg"),width:"16px",height:"16px"}}))})),o.graphics.addMany(t),o.goTo(t)}))}))})).catch((function(e){console.error(e)}))}),[]),Object(_e.jsx)("div",{id:"grow-scene-".concat(t),style:{marginTop:"10px"}})})),mt=n(81),wt=n.n(mt),yt=Object(ke.g)((function(e){var t=e.history,n=Object(ke.f)().profileId,r=Object(Oe.useState)(null),c=Object(De.a)(r,2),a=c[0],i=c[1],o=Object(Oe.useState)([]),s=Object(De.a)(o,2),l=s[0],d=s[1],u=Object(Oe.useState)([]),p=Object(De.a)(u,2),b=p[0],j=p[1];if(Object(Oe.useEffect)((function(){var e=function(){var e=Object(Te.a)(Re.a.mark((function e(){var t,r;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Se.firestore(),e.next=3,t.collection("users").doc(n).get();case 3:(r=e.sent).exists&&(r=r.data(),i(r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(Te.a)(Re.a.mark((function e(){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Me.loadModules)(["esri/tasks/QueryTask"]).then((function(e){new(0,Object(De.a)(e,1)[0])({url:window.config.growsLayer.url}).execute({where:"".concat(window.config.growsLayer.creatorField," = '").concat(n,"'"),orderByFields:"start_time desc",outFields:"*"}).then((function(e){d(e.features),j(e.fields)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n&&(e(),t())}),[n]),a){var f=l.map((function(e){return Object(_e.jsx)(gt,{history:t,data:e.attributes,fields:b},"grow_"+e.attributes.OBJECTID)}));return Object(_e.jsxs)(dt,{children:[Object(_e.jsx)(et,{history:t}),Object(_e.jsxs)(ut,{children:[Object(_e.jsxs)(pt,{children:[Object(_e.jsx)("h1",{style:{color:"#6FC6DF"},children:"".concat(a.fname," ").concat(a.lname)}),Object(_e.jsxs)(Ne.a,{href:"mailto:".concat(a.email),style:{color:"white",display:"flex"},children:[" ",Object(_e.jsx)(wt.a,{style:{marginRight:"3px"}}),"eMail Me"]}),Object(_e.jsx)(Ot,{creatorId:n})]}),Object(_e.jsxs)(bt,{children:[Object(_e.jsx)("h3",{style:{textAlign:"center",color:"#9FC73B"},children:"".concat(a.fname,"'s Grows")}),f.length>0?f:Object(_e.jsxs)("p",{style:{color:"white",textAlign:"center"},children:["No Grows Found."," ",Object(_e.jsx)(Ne.a,{href:"new",onClick:function(e){e.preventDefault(),t.push("/new")},style:{textDecoration:"none"},children:Object(_e.jsx)("span",{style:{color:"#6FC6DF"},children:"Start one now"})})]})]})]})]})}return Object(_e.jsx)(dt,{children:Object(_e.jsx)(et,{history:t})})})),vt=yt,kt=Je.a.div(m||(m=Object(Qe.a)(["\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    background: #2D2D2D;\n"]))),Dt=Je.a.div(w||(w=Object(Qe.a)(["\n    flex-direction: column;\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    align-items: center;\n    align-content: center;\n    justify-items: center;\n    justify-content: center;\n"]))),Ct=Je.a.form(y||(y=Object(Qe.a)(["\n    display: flex;\n    flex-direction: column;\n    background: #474747;\n    padding: 25px;\n    width: 40%;\n    margin-bottom: 10%;\n    @media (max-width: 768px) {\n        width: calc(100% - 70px);\n        padding: 20px;\n        margin-bottom: 40%;\n    }\n"]))),Ft=Je.a.label(v||(v=Object(Qe.a)(["\n    font-weight: bold;\n    color: #9FC73B;\n"]))),St=Je.a.button(k||(k=Object(Qe.a)(["\n    padding: 10px;\n    background: #6FC6DF;\n    color: white;\n    text-transform: uppercase;\n    font-weight: bold;\n    cursor: pointer;\n    border: none;\n"]))),_t=Object(ke.g)((function(e){var t=e.history,n=Object(Oe.useCallback)(function(){var e=Object(Te.a)(Re.a.mark((function e(t){var n,r,c,a,i,o;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target.elements,r=n.fname,c=n.lname,a=n.email,i=n.password,n.confirmpassword.value===i.value){e.next=6;break}alert("Confirm password must match password"),e.next=17;break;case 6:return e.prev=6,e.next=9,Se.auth().createUserWithEmailAndPassword(a.value,i.value);case 9:o=e.sent,Se.firestore().collection("users").doc(o.user.uid).set({fname:r.value,lname:c.value}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(Oe.useContext)(Ie).currentUser?Object(_e.jsx)(ke.a,{to:"/"}):Object(_e.jsxs)(kt,{children:[Object(_e.jsx)(et,{history:t}),Object(_e.jsxs)(Dt,{children:[Object(_e.jsx)("p",{style:{color:"white"},children:"Let's get to know you!"}),Object(_e.jsxs)(Ct,{onSubmit:n,children:[Object(_e.jsx)(Ft,{children:"First Name: "}),Object(_e.jsx)("input",{style:{padding:"10px"},name:"fname",type:"text",required:!0,placeholder:"First Name"}),Object(_e.jsx)("br",{}),Object(_e.jsx)(Ft,{children:"Last Name: "}),Object(_e.jsx)("input",{style:{padding:"10px"},name:"lname",type:"text",required:!0,placeholder:"Last Name"}),Object(_e.jsx)("br",{}),Object(_e.jsx)(Ft,{children:"eMail Address: "}),Object(_e.jsx)("input",{style:{padding:"10px"},name:"email",type:"email",required:!0,placeholder:"eMail"}),Object(_e.jsx)("br",{}),Object(_e.jsx)(Ft,{children:"Password:"}),Object(_e.jsx)("input",{style:{padding:"10px"},name:"password",type:"password",required:!0,placeholder:"Password",minLength:"6"}),Object(_e.jsx)("br",{}),Object(_e.jsx)(Ft,{children:"Confirm Password:"}),Object(_e.jsx)("input",{style:{padding:"10px"},name:"confirmpassword",type:"password",required:!0,placeholder:"Confirm Password",minLength:"6"}),Object(_e.jsx)("br",{}),Object(_e.jsx)(St,{type:"submit",children:"Register"})]})]})]})})),It=_t,Et=Je.a.div(D||(D=Object(Qe.a)(["\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    background: #2D2D2D;\n"]))),Pt=Je.a.div(C||(C=Object(Qe.a)(["\n    flex-direction: column;\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    align-items: center;\n    align-content: center;\n    justify-items: center;\n    justify-content: center;\n"]))),Bt=Je.a.form(F||(F=Object(Qe.a)(["\n    display: flex;\n    flex-direction: column;\n    background: #474747;\n    padding: 25px;\n    width: 40%;\n    margin-bottom: 10%;\n    @media (max-width: 768px) {\n        width: calc(100% - 70px);\n        padding: 20px;\n        margin-bottom: 40%;\n    }\n"]))),Lt=Je.a.label(S||(S=Object(Qe.a)(["\n    font-weight: bold;\n    color: #9FC73B;\n"]))),Mt=Je.a.button(_||(_=Object(Qe.a)(["\n    padding: 10px;\n    background: #6FC6DF;\n    color: white;\n    text-transform: uppercase;\n    font-weight: bold;\n    cursor: pointer;\n    border: none;\n"]))),Tt=Object(ke.g)((function(e){var t=e.history,n=Object(Oe.useCallback)(function(){var e=Object(Te.a)(Re.a.mark((function e(n){var r;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=n.target.elements.email,e.prev=2,e.next=5,Se.auth().sendPasswordResetEmail(r.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(Oe.useContext)(Ie).currentUser?Object(_e.jsx)(ke.a,{to:"/"}):Object(_e.jsxs)(Et,{children:[Object(_e.jsx)(et,{history:t}),Object(_e.jsx)(Pt,{children:Object(_e.jsxs)(Bt,{onSubmit:n,children:[Object(_e.jsx)(Lt,{children:"eMail Address: "}),Object(_e.jsx)("input",{style:{padding:"10px"},name:"email",type:"email",required:!0,placeholder:"eMail"}),Object(_e.jsx)("br",{}),Object(_e.jsx)(Mt,{type:"submit",children:"Forgot Password"})]})})]})})),At=Tt,Rt=Je.a.div(I||(I=Object(Qe.a)(["\n    background: #3f3f3f;\n    border-radius: 10px;\n    border: 1px solid white;\n    padding: 25px;\n    display: flex;\n    flex-direction: row;\n    width: calc(100% - 50px);\n    margin-bottom: 20px;\n"]))),Gt=Je.a.div(E||(E=Object(Qe.a)(["\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    margin-left: 15px;\n"]))),Wt=Je.a.p(P||(P=Object(Qe.a)(["\n    color: white;\n    font-size: 14px;\n    font-weight: bold;\n    margin: 0;\n"]))),Vt=Je.a.div(B||(B=Object(Qe.a)(["\n    color: #B5B5B5;\n    font-size: 12px;\n    margin: 0;\n"]))),Nt=Object(ke.g)((function(e){var t=Object(Oe.useState)(null),n=Object(De.a)(t,2),r=n[0],c=n[1];return Object(Oe.useEffect)((function(){var t=function(){var t=Object(Te.a)(Re.a.mark((function t(){return Re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("".concat(window.config.updates.url,"/").concat(e.data.attributes.objectid,"/attachments?f=json")).then((function(e){return e.json()})).then((function(t){t.attachmentInfos.length>0&&c("".concat(window.config.updates.url,"/").concat(e.data.attributes.objectid,"/attachments/").concat(t.attachmentInfos[0].id))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.data.attributes.objectid&&t()}),[e.data.attributes.objectid]),Object(_e.jsx)(Rt,{children:Object(_e.jsxs)(Gt,{children:[Object(_e.jsx)(Wt,{children:e.data.attributes.title}),Object(_e.jsxs)(Vt,{children:[new Date(e.data.attributes.CreationDate).toLocaleDateString()," at ",new Date(e.data.attributes.CreationDate).toLocaleTimeString()]}),function(){if(r)return Object(_e.jsx)("img",{src:r,style:{width:"100%"}})}(),e.data.attributes.message?Object(_e.jsx)(Vt,{children:e.data.attributes.message}):null]})})})),qt=Nt,zt=n(152),Ut=n(157),Yt=Je.a.div(L||(L=Object(Qe.a)(["\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    background: #2d2d2d;\n"]))),Qt=Je.a.div(M||(M=Object(Qe.a)(["\n    width: calc(100% - 40px);\n    display: flex;\n    flex-grow: 1;\n    flex-direction: row;\n    padding: 0px 20px;\n"]))),Jt=Je.a.div(T||(T=Object(Qe.a)(["\n    width: 33%;\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n\n    & h1,\n    & h3 {\n        color: white;\n        margin: 5px;\n    }\n\n    & h1 {\n        margin-top: 10px;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n    }\n    margin-right: 20px;\n"]))),Ht=Je.a.div(A||(A=Object(Qe.a)(["\n    height: 100%;\n    flex-grow: 1;\n    width: 67%;\n    display: flex;\n    flex-direction: column;\n"]))),Kt=Je.a.div(R||(R=Object(Qe.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]))),Xt=Object(Je.a)(zt.a)(G||(G=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"]))),Zt=Object(Je.a)(Ut.a)(W||(W=Object(Qe.a)(["\n    display: flex;\n    justify-content: center;\n    height: 80%;\n    padding-top: 5%;\n"]))),$t=Je.a.iframe(V||(V=Object(Qe.a)(["\n    width: 60%;\n    height: 100%;\n    border: none;\n    background: #3F3F3F;\n"]))),en=Object(ke.g)((function(e){return Object(Oe.useEffect)((function(){document.getElementById("grow-scene-".concat(e.id)).style.height=document.getElementById("grow-scene-".concat(e.id)).clientWidth+"px",Object(Me.loadModules)(["esri/views/SceneView","esri/WebScene","esri/geometry/Polygon","esri/Graphic"]).then((function(t){var n=Object(De.a)(t,4),r=n[0],c=n[1],a=(n[2],n[3]),i=new r({map:new c({portalItem:{id:window.config.baseSceneId}}),container:"grow-scene-".concat(e.id)});i.when((function(){var t=e.data.geometry.centroid;t.z=e.data.attributes.height||50,i.graphics.add(new a({geometry:t,symbol:{type:"picture-marker",url:"https://hydroponics-app-f7956.web.app/img/".concat(e.fields.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(t){return t.code===e.data.attributes.plant_type}))[0].name.toLowerCase().replace(/ /g,""),".svg")}})),i.goTo({target:t,zoom:20})}))})).catch((function(e){console.error(e)}))}),[]),Object(_e.jsx)("div",{id:"grow-scene-".concat(e.id)})})),tn=Object(ke.g)((function(e){var t=e.history,n=Object(ke.f)().growId,r=Object(Oe.useState)(null),c=Object(De.a)(r,2),a=c[0],i=c[1],o=Object(Oe.useState)([]),s=Object(De.a)(o,2),l=s[0],d=s[1],u=Object(Oe.useState)(!1),p=Object(De.a)(u,2),b=p[0],j=p[1],f=Object(Oe.useState)([]),h=Object(De.a)(f,2),x=h[0],g=h[1],O=Object(Oe.useContext)(Ie).currentUser,m=function(){var e=Object(Te.a)(Re.a.mark((function e(){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Me.loadModules)(["esri/tasks/QueryTask"]).then((function(e){new(0,Object(De.a)(e,1)[0])({url:window.config.updates.url}).execute({where:"grow_id = ".concat(n),outFields:"*",returnGeometry:!1}).then((function(e){d(e.features.sort((function(e,t){return t.attributes.CreationDate-e.attributes.CreationDate})))}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(Oe.useEffect)((function(){var e=function(){var e=Object(Te.a)(Re.a.mark((function e(){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Me.loadModules)(["esri/tasks/QueryTask"]).then((function(e){new(0,Object(De.a)(e,1)[0])({url:window.config.growsLayer.url}).execute({where:"OBJECTID = '".concat(n,"'"),outFields:"*",returnGeometry:!0}).then(function(){var e=Object(Te.a)(Re.a.mark((function e(t){var n,r,c;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.features[0],r=Se.firestore(),e.next=4,r.collection("users").doc(n.attributes.creator_id).get();case 4:(c=e.sent).exists&&(c=c.data(),n.attributes.creator=c),g(t.fields),i(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n&&(e(),m())}),[n]),a&&x.length>0&&a.attributes.creator){var w=l.map((function(e){return Object(_e.jsx)(qt,{history:t,data:e},"grow_".concat(n,"_update_").concat(e.attributes.objectid))}));return Object(_e.jsxs)(Yt,{children:[Object(_e.jsx)(et,{history:t}),Object(_e.jsxs)(Qt,{children:[Object(_e.jsxs)(Jt,{children:[Object(_e.jsxs)("h1",{style:{color:"#9FC73B"},children:[Object(_e.jsx)("img",{src:"https://hydroponics-app-f7956.web.app/img/".concat(x.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(e){return e.code===a.attributes.plant_type}))[0].name.toLowerCase().replace(/ /g,""),".svg"),alt:x.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(e){return e.code===a.attributes.plant_type}))[0].name,width:"30px",style:{marginRight:"5px"}}),x.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(e){return e.code===a.attributes.plant_type}))[0].name]}),Object(_e.jsx)(Ne.a,{href:"/profile/".concat(a.attributes.creator_id),onClick:function(e){e.preventDefault(),t.push("/profile/".concat(a.attributes.creator_id))},children:Object(_e.jsx)("h3",{children:"".concat(a.attributes.creator.fname," ").concat(a.attributes.creator.lname)})}),Object(_e.jsxs)("h3",{children:[a.attributes.Shape__Area.toLocaleString(void 0,{maximumFractionDigits:2})," ","sqm"]}),Object(_e.jsx)("h3",{children:x.filter((function(e){return"plantation_type"===e.name}))[0].domain.codedValues.filter((function(e){return e.code===a.attributes.plantation_type}))[0].name}),Object(_e.jsxs)("h3",{children:[new Date(a.attributes.start_time).toLocaleDateString()," ","-"," ",new Date(a.attributes.end_time).toLocaleDateString()]}),Object(_e.jsx)("h3",{children:a.attributes.expected_yield}),Object(_e.jsx)(en,{id:"grow_".concat(n),data:a,fields:x})]}),Object(_e.jsxs)(Ht,{children:[Object(_e.jsxs)(Kt,{children:[Object(_e.jsx)("h3",{style:{textAlign:"center",color:"#6FC6DF"},children:"Updates"}),function(){if(O&&O.uid===a.attributes.creator_id)return Object(_e.jsx)(Xt,{onClick:function(){j(!0)},children:"Add Update"})}()]}),w.length>0?w:Object(_e.jsx)("p",{style:{color:"white",textAlign:"center"},children:"No Updates Yet"})]})]}),Object(_e.jsx)(Zt,{open:b,onClose:function(){j(!1),m()},children:Object(_e.jsx)($t,{src:window.config.updates.survey.replace("{growid}",n)})})]})}return Object(_e.jsx)(Yt,{children:Object(_e.jsx)(et,{history:t})})})),nn=tn,rn=Je.a.div(N||(N=Object(Qe.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n"]))),cn=Je.a.div(q||(q=Object(Qe.a)(["\n    width: 100%;\n    flex-grow: 1;\n"]))),an=me.a.memo((function(e){var t=Object(Oe.useState)(null),n=Object(De.a)(t,2),r=n[0],c=n[1];return r&&0===e.selectState&&Object(Me.loadModules)(["esri/views/draw/Draw","esri/Graphic"]).then((function(t){var n=Object(De.a)(t,2),c=n[0],a=n[1],i=new c({view:r});r.focus(),r.graphics.removeAll();var o=i.create("polygon",{mode:"click"});o.on(["vertex-add","vertex-remove","cursor-update"],(function(e){!function(e){r.graphics.removeAll();var t={type:"polygon",rings:e,spatialReference:r.spatialReference},n=new a({geometry:t,symbol:{type:"simple-fill",color:[5,30,45,.8],style:"solid",outline:{color:"white",width:1}}});r.graphics.add(n)}(e.vertices)})),o.on("draw-complete",(function(t){e.onSelectionComplete({type:"polygon",rings:t.vertices,spatialReference:r.spatialReference})}))})),Object(Oe.useEffect)((function(){Object(Me.loadModules)(["esri/views/MapView","esri/WebMap","esri/widgets/Locate","esri/widgets/Expand","esri/widgets/Search","esri/tasks/QueryTask","esri/Graphic"]).then((function(e){var t=Object(De.a)(e,7),n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],d=new n({map:new r({portalItem:{id:window.config.newGrowMapId}}),container:"new-grow-map"});c(d),d.when((function(){var e=new a({view:d,useHeadingEnabled:!1,goToOverride:function(e,t){return t.target.scale=1500,e.goTo(t.target)}});d.ui.add(e,"top-left");var t=new o({view:d}),n=new i({view:d,content:t});d.ui.add(n,{position:"top-left",index:2}),new s({url:window.config.growsLayer.url}).execute({where:"end_time > DATE '".concat((new Date).getFullYear(),"-").concat((""+((new Date).getMonth()+1)).padStart(2,"0"),"-").concat(""+((new Date).getDate()+1),"'"),outFields:"*",returnGeometry:!0}).then((function(e){var t=[];e.features.forEach((function(n){n.geometry=n.geometry.centroid,n.geometry.z=n.attributes.height,t.push(new l({geometry:n.geometry,symbol:{type:"picture-marker",url:"https://hydroponics-app-f7956.web.app/img/".concat(e.fields.filter((function(e){return"plant_type"===e.name}))[0].domain.codedValues.filter((function(e){return e.code===n.attributes.plant_type}))[0].name.toLowerCase().replace(/ /g,""),".svg"),width:"16px",height:"16px"}}))})),d.graphics.addMany(t),d.goTo(t)}))}))})).catch((function(e){console.error(e)}))}),[]),Object(_e.jsx)(cn,{id:"new-grow-map"})}),(function(){return!1})),on=Object(ke.g)(an),sn=Je.a.div(z||(z=Object(Qe.a)(["\n    position: absolute;\n    top: 245px;\n    left: 15px;\n    background: white;\n    height: calc(100% - 300px);\n    width: 300px;\n    display: flex;\n    flex-direction: column;\n"]))),ln=Object(ke.g)((function(e){var t=Object(Oe.useState)(0),n=Object(De.a)(t,2),r=n[0],c=n[1],a=function(){c(r+1)};return Object(_e.jsx)(sn,{children:me.a.Children.map(e.children,(function(e,t){return t===r?me.a.cloneElement(e,{onComplete:a}):null}))})})),dn=Je.a.div(U||(U=Object(Qe.a)(["\n    background: white;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n"]))),un=Je.a.div(Y||(Y=Object(Qe.a)(["\n    background: #2d2d2d;\n    color: white;\n    padding: 10px;\n"]))),pn=Je.a.div(Q||(Q=Object(Qe.a)(["\n    flex-grow: 1;\n    background: #3f3f3f;\n    padding: 10px;\n"]))),bn=Je.a.div(J||(J=Object(Qe.a)(["\n    background: #2d2d2d;\n    padding: 10px;\n    flex-direction: row;\n"]))),jn=Object(Je.a)(zt.a)(H||(H=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"]))),fn=Object(Je.a)(zt.a)(K||(K=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    width: 100% !important;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"]))),hn=Object(ke.g)((function(e){return Object(_e.jsxs)(dn,{children:[Object(_e.jsx)(un,{children:"Area Selection"}),Object(_e.jsxs)(pn,{style:{textAlign:"center"},children:[Object(_e.jsx)("p",{style:{color:"white"},children:"Hi! Select an area to get started."}),0===e.selectState?Object(_e.jsx)("p",{style:{color:"white"},children:"Now Draw on the Map"}):1===e.selectState?Object(_e.jsxs)("span",{children:[Object(_e.jsx)("p",{style:{color:"white"},children:"An Area is Selected"}),Object(_e.jsx)(jn,{onClick:e.onSelectClicked,children:"New Selection"})]}):Object(_e.jsx)(jn,{onClick:e.onSelectClicked,children:"Select"})]}),function(){if(1===e.selectState)return Object(_e.jsx)(bn,{style:{justifyItems:"right"},children:Object(_e.jsx)(fn,{onClick:e.onComplete,children:"Next"})})}()]})})),xn=Je.a.div(X||(X=Object(Qe.a)(["\n    background: white;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n"]))),gn=Je.a.div(Z||(Z=Object(Qe.a)(["\n    background: #2d2d2d;\n    color: white;\n    padding: 10px;\n"]))),On=Je.a.div($||($=Object(Qe.a)(["\n    flex-grow: 1;\n    background: #3f3f3f;\n    padding: 10px;\n\n    & .MuiFormControlLabel-label {\n        color: white;\n    }\n\n    & .MuiRadio-root {\n        color: #6FC6DF;\n    }\n\n    & .MuiRadio-colorSecondary.Mui-checked {\n        color: #6FC6DF;\n    }\n"]))),mn=Je.a.div(ee||(ee=Object(Qe.a)(["\n    background: #2d2d2d;\n    padding: 10px;\n    flex-direction: row;\n"]))),wn=(Object(Je.a)(zt.a)(te||(te=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"]))),Object(Je.a)(zt.a)(ne||(ne=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    width: 100% !important;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"])))),yn=n(160),vn=n(161),kn=n(153),Dn=n(158),Cn=Object(ke.g)((function(e){var t=me.a.useState(1),n=Object(De.a)(t,2),r=n[0],c=n[1];return Object(_e.jsxs)(xn,{children:[Object(_e.jsx)(gn,{children:"Type Selection"}),Object(_e.jsxs)(On,{style:{textAlign:"center"},children:[Object(_e.jsx)("p",{style:{color:"white"},children:"Please select the type of hydroponic planting you want to do."}),Object(_e.jsx)(yn.a,{component:"fieldset",children:Object(_e.jsxs)(vn.a,{value:r,name:"radio-buttons-group",onChange:function(t,n){c(parseInt(n)),e.onChange(parseInt(n))},children:[Object(_e.jsx)(kn.a,{value:1,control:Object(_e.jsx)(Dn.a,{}),label:"Tower"}),Object(_e.jsx)(kn.a,{value:2,control:Object(_e.jsx)(Dn.a,{}),label:"Stack"}),Object(_e.jsx)(kn.a,{value:3,control:Object(_e.jsx)(Dn.a,{}),label:"Wick"})]})})]}),Object(_e.jsx)(mn,{style:{justifyItems:"right"},children:Object(_e.jsx)(wn,{onClick:e.onComplete,children:"Next"})})]})})),Fn=n(82),Sn=n(154),_n=Je.a.div(re||(re=Object(Qe.a)(["\n    background: white;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n"]))),In=Je.a.div(ce||(ce=Object(Qe.a)(["\n    background: #2d2d2d;\n    color: white;\n    padding: 10px;\n"]))),En=Je.a.div(ae||(ae=Object(Qe.a)(["\n    flex-grow: 1;\n    background: #3f3f3f;\n    padding: 10px;\n    overflow: auto;\n\n    & .MuiCircularProgress-colorPrimary {\n        color: #98BD3B;\n    }\n"]))),Pn=(Je.a.div(ie||(ie=Object(Qe.a)(["\n    background: #2d2d2d;\n    padding: 10px;\n    flex-direction: row;\n"]))),Object(Je.a)(zt.a)(oe||(oe=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"]))),Object(Je.a)(zt.a)(se||(se=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    width: 100% !important;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"]))),Je.a.div(le||(le=Object(Qe.a)(["\n    background: #3f3f3f;\n    border-radius: 10px;\n    border: 1px solid white;\n    padding: 25px;\n    display: flex;\n    flex-direction: row;\n    width: calc(100% - 50px);\n    margin-bottom: 20px;\n    cursor: pointer;\n"])))),Bn=Je.a.div(de||(de=Object(Qe.a)(["\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    margin-left: 15px;\n"]))),Ln=Je.a.p(ue||(ue=Object(Qe.a)(["\n    color: white;\n    font-size: 14px;\n    font-weight: bold;\n    margin: 0;\n"]))),Mn=Je.a.div(pe||(pe=Object(Qe.a)(["\n    color: #B5B5B5;\n    font-size: 12px;\n    margin: 0;\n"]))),Tn=Object(ke.g)((function(e){return Object(_e.jsx)(Ne.a,{onClick:function(t){t.preventDefault(),e.onSelect({plantType:e.data.plant_type,growPeriod:e.data.GROW_PERIOD,exYield:e.data.EX_YIELD})},children:Object(_e.jsxs)(Pn,{children:[Object(_e.jsx)("img",{src:"https://hydroponics-app-f7956.web.app/img/".concat(e.data.CROP.toLowerCase().replace(/ /g,""),".svg"),alt:e.data.CROP,width:"50"}),Object(_e.jsxs)(Bn,{children:[Object(_e.jsx)(Ln,{children:e.data.CROP}),function(){if(e.data.recommended)return Object(_e.jsx)(Mn,{style:{color:"#9FC73B"},children:"Recommended"})}(),Object(_e.jsxs)(Mn,{children:["Growth Period: ",e.data.GROW_PERIOD," Days"]}),Object(_e.jsxs)(Mn,{children:["Expected Yield: ",e.data.EX_YIELD]})]})]})})})),An=Object(ke.g)((function(e){var t=Object(Oe.useState)(null),n=Object(De.a)(t,2),r=n[0],c=n[1];return Object(Oe.useEffect)((function(){Object(Me.loadModules)(["esri/config","esri/tasks/QueryTask","esri/geometry/Polygon","esri/request","esri/geometry/geometryEngine"]).then(function(){var t=Object(Te.a)(Re.a.mark((function t(n){var r,a,i,o,s,l,d,u,p,b,j,f,h,x,g,O,m;return Re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(De.a)(n,5),a=r[0],i=r[1],o=r[2],s=r[3],l=r[4],a.apiKey="AAPK899137865cec4381bb28e1be78781355JyLIcqwK0HIoBzhsp1KZbYnO5LdjRFn9OHvAoZZfFFhjPoGLg6wQWpmiTBQGZMPv",d=new Date((new Date).getTime()+864e6),u=new o(e.AoI),p=new o(e.AoI).centroid,b=new i({url:window.config.tempLayer.url}),t.next=8,b.execute({geometry:e.AoI,outFields:window.config.tempLayer.fields[d.getMonth()],geometryType:"esriGeometryPolygon",inSR:e.AoI.spatialReference});case 8:return j=t.sent,f=j.features[0].attributes[window.config.tempLayer.fields[d.getMonth()]],t.next=12,s("".concat(window.config.solarLayer.url,"/identify"),{query:{f:"json",geometryType:"esriGeometryPoint",geometry:JSON.stringify({type:"point",x:p.x,y:p.y,spatialReference:e.AoI.spatialReference}),renderingRules:'[{"rasterFunction":"Direct normal irradiation"}]',returnPixelValues:!0,returnUnformattedValues:!0,returnCatalogItems:!1}});case 12:return h=t.sent,x=(x=parseInt(h.data.processedValues[0]))>window.config.solarLayer.cutoffs.medium&&x<window.config.solarLayer.cutoffs.high?"MEDIUM":x>window.config.solarLayer.cutoffs.high?"HIGH":"LOW",g=new i({url:window.config.plantLayer.url}),t.next=18,g.execute({where:"1=1",outFields:"*"});case 18:O=(O=t.sent).features,m={width:1.35,height:1.35,ports:28},2===e.PType?m={width:1,height:.55,ports:144}:3===e.PType&&(m={width:1,height:.55,ports:18}),O.forEach((function(e){e.attributes.recommended=e.attributes.DAY_TEMP_HIGH_FAR>=f&&f<=e.attributes.DAY_TEMP_LOW_FAR&&e.attributes.SUN_INTENSITY===x;var t=l.planarArea(u,"square-meters")/(m.width*m.height),n=m.ports*t;e.attributes.EX_YIELD=Math.ceil(1.3*n-1.3*n*.02)})),c(O);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(_e.jsxs)(_n,{children:[Object(_e.jsx)(In,{children:"Plant Selection"}),Object(_e.jsx)(En,{style:{textAlign:"center"},children:r?r.filter((function(e){return 0!==e.attributes.plant_type})).sort((function(e,t){return e.attributes.recommended&&!t.attributes.recommended?-1:t.attributes.recommended&&!e.attributes.recommended?1:e.attributes.GROW_PERIOD<t.attributes.GROW_PERIOD?-1:t.attributes.GROW_PERIOD<e.attributes.GROW_PERIOD?1:e.attributes.CROP<t.attributes.CROP?-1:t.attributes.CROP<e.attributes.CROP?1:0})).map((function(t,n){return Object(_e.jsx)(Tn,{data:t.attributes,onSelect:function(t){e.onPlantSelection(Object(Fn.a)({},t)),e.onComplete()}},"plant_option_".concat(n,"_").concat(t.attributes.plant_type))})):Object(_e.jsxs)("span",{children:[Object(_e.jsx)("p",{style:{color:"white"},children:"Hang on! We're figuring out the best plants for you."}),Object(_e.jsx)(Sn.a,{})]})})]})})),Rn=An,Gn=Je.a.div(be||(be=Object(Qe.a)(["\n    background: white;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n"]))),Wn=Je.a.div(je||(je=Object(Qe.a)(["\n    background: #2d2d2d;\n    color: white;\n    padding: 10px;\n"]))),Vn=Je.a.div(fe||(fe=Object(Qe.a)(["\n    flex-grow: 1;\n    background: #3f3f3f;\n    padding: 10px;\n    overflow: auto;\n\n    & .MuiCircularProgress-colorPrimary {\n        color: #98BD3B;\n    }\n"]))),Nn=(Je.a.div(he||(he=Object(Qe.a)(["\n    background: #2d2d2d;\n    padding: 10px;\n    flex-direction: row;\n"]))),Object(Je.a)(zt.a)(xe||(xe=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"]))),Object(Je.a)(zt.a)(ge||(ge=Object(Qe.a)(["\n    background-color: #6fc6df !important;\n    height: 40px;\n    width: 100% !important;\n    & .MuiButton-label {\n        font-weight: bold;\n    }\n"]))),Object(ke.g)((function(e){return Object(Oe.useEffect)((function(){Object(Me.loadModules)(["esri/tasks/QueryTask","esri/geometry/Polygon","esri/request"]).then(function(){var t=Object(Te.a)(Re.a.mark((function t(n){var r,c,a,i,o,s,l;return Re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(De.a)(n,3),c=r[0],a=r[1],i=r[2],o=new c({url:window.config.roofLayer.url}),t.next=4,o.execute({geometry:e.AoI,outFields:window.config.roofLayer.heightField,geometryType:"esriGeometryPolygon",inSR:e.AoI.spatialReference});case 4:s=t.sent,l=Math.ceil(s.features[0].attributes[window.config.roofLayer.heightField]),i("".concat(window.config.growsLayer.url,"/addFeatures"),{query:{f:"json",features:JSON.stringify([{geometry:new a(e.AoI),attributes:{start_time:(new Date).getTime(),end_time:new Date((new Date).getTime()+24*e.plantInfo.growPeriod*60*60*1e3).getTime(),plant_type:e.plantInfo.plantType,expected_yield:e.plantInfo.exYield,height:l,plantation_type:e.PType,creator_id:e.creatorId}}])},method:"post"}).then((function(t){e.history.push("/grow/".concat(t.data.addResults[0].objectId))}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(_e.jsxs)(Gn,{children:[Object(_e.jsx)(Wn,{children:"Creating Grow"}),Object(_e.jsx)(Vn,{style:{textAlign:"center"},children:Object(_e.jsxs)("span",{children:[Object(_e.jsx)("p",{style:{color:"white"},children:"Congratulations! We're starting your grow."}),Object(_e.jsx)(Sn.a,{})]})})]})}))),qn=Nn,zn=Object(ke.g)((function(e){var t=Object(Oe.useContext)(Ie).currentUser,n=Object(Oe.useState)(-1),r=Object(De.a)(n,2),c=r[0],a=r[1],i=Object(Oe.useState)(null),o=Object(De.a)(i,2),s=o[0],l=o[1],d=Object(Oe.useState)(1),u=Object(De.a)(d,2),p=u[0],b=u[1],j=Object(Oe.useState)(null),f=Object(De.a)(j,2),h=f[0],x=f[1];if(!t)return Object(_e.jsx)(ke.a,{to:"/"});return Object(_e.jsxs)(rn,{children:[Object(_e.jsx)(et,{history:e.history}),Object(_e.jsx)(on,{selectState:c,onSelectionComplete:function(e){a(1),l(e)}}),Object(_e.jsxs)(ln,{children:[Object(_e.jsx)(hn,{onSelectClicked:function(){a(0)},selectState:c}),Object(_e.jsx)(Cn,{onChange:function(e){b(e)}}),Object(_e.jsx)(Rn,{AoI:s,PType:p,onPlantSelection:x}),Object(_e.jsx)(qn,{AoI:s,PType:p,plantInfo:h,creatorId:t.uid,history:e.history})]})]})})),Un=function(){return Object(Me.setDefaultOptions)({css:!0}),Object(_e.jsx)(Ee,{children:Object(_e.jsx)(Pe.a,{theme:Le,children:Object(_e.jsx)(ve.a,{children:Object(_e.jsxs)("div",{className:"root",children:[Object(_e.jsx)(ke.b,{exact:!0,path:"/",children:Object(_e.jsx)(ke.a,{to:"/all"})}),Object(_e.jsx)(ke.b,{exact:!0,path:"/all",component:lt}),Object(_e.jsx)(ke.b,{exact:!0,path:"/login",component:ot}),Object(_e.jsx)(ke.b,{exact:!0,path:"/profile/:profileId",component:vt}),Object(_e.jsx)(ke.b,{exact:!0,path:"/register",component:It}),Object(_e.jsx)(ke.b,{exact:!0,path:"/forgotpass",component:At}),Object(_e.jsx)(ke.b,{exact:!0,path:"/grow/:growId",component:nn}),Object(_e.jsx)(ke.b,{exact:!0,path:"/new",component:zn})]})})})})};ye.a.render(Object(_e.jsx)(Un,{}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.4f29f7c3.chunk.js.map